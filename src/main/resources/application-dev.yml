spring:
  datasource:
    url: jdbc:postgresql://localhost:5433/qa_framework
    username: qauser
    password: qapass
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 20000

  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  data:
    redis:
      host: localhost
      port: 6379
      timeout: 2000ms

  flyway:
    enabled: true
    baseline-on-migrate: true
    validate-on-migrate: false
    locations: classpath:db/migration

# Local file storage configuration
storage:
  type: local
  base-path: ${user.home}/qa-framework/artifacts
  screenshots: ${storage.base-path}/screenshots
  videos: ${storage.base-path}/videos
  logs: ${storage.base-path}/logs
  reports: ${storage.base-path}/reports
  retention-days: 30
  max-file-size-mb: 10
  allowed-extensions:
    - png
    - jpg
    - jpeg
    - txt
    - log
    - html
    - json
    - mp4
  cleanup:
    enabled: true
    schedule: "0 0 2 * * *"

# Selenium configuration
selenium:
  grid-url: http://localhost:4444/wd/hub
  implicit-wait: 10
  page-load-timeout: 30

#logging:
  #level:
   # com.company.qa: DEBUG
    #org.hibernate.SQL: DEBUG

# Add to existing application-dev.yml

# Security configuration
security:
  api-key:
    header-name: X-API-Key
    rate-limit:
      enabled: true
      requests-per-minute: 100
    logging:
      enabled: true

logging:
  level:
    root: INFO
    com.company.qa: DEBUG
    com.company.qa.security: DEBUG  # ADD THIS
    org.springframework.security: DEBUG  # ADD THIS (for troubleshooting)

execution:
  timeout-minutes: 10
  max-concurrent: 3
  retry:
    enabled: true
    max-attempts: 2
    delay-seconds: 5
    retry-on-timeout: true
    retry-on-network-error: true
    retry-on-assertion-failure: false


scheduling:
  enabled: true

# Add to existing application-dev.yml (keep everything else)

# Notification configuration
notification:
  enabled: true
  async: true
  retry:
    enabled: true
    max-attempts: 3
    delay-seconds: 10
  rate-limit:
    enabled: true
    max-per-minute: 10

  # Email configuration
  email:
    enabled: true
    from: qa-framework@company.com
    smtp:
      host: smtp.gmail.com
      port: 587
      username: ${EMAIL_USERNAME:your-email@gmail.com}
      password: ${EMAIL_PASSWORD:your-app-password}
      auth: true
      starttls: true

  # Slack configuration
  slack:
    enabled: true
    webhook-url: ${SLACK_WEBHOOK_URL:https://hooks.slack.com/services/YOUR/WEBHOOK/URL}
    channel: '#qa-alerts'
    username: 'QA Framework Bot'
    icon-emoji: ':robot_face:'

  # Webhook configuration
  webhook:
    enabled: true
    default-url: ${WEBHOOK_URL:http://localhost:8080/api/v1/webhooks/default}
    timeout-seconds: 10

# Update Spring Mail configuration

  mail:
    host: ${notification.email.smtp.host}
    port: ${notification.email.smtp.port}
    username: ${notification.email.smtp.username}
    password: ${notification.email.smtp.password}
    properties:
      mail:
        smtp:
          auth: ${notification.email.smtp.auth}
          starttls:
            enable: ${notification.email.smtp.starttls}

ai:
  enabled: true
  provider: ${AI_PROVIDER:mock}  # mock, bedrock, or ollama

  bedrock:
    enabled: false
    region: ${AWS_REGION:us-east-1}
    model: anthropic.claude-3-sonnet-20240229-v1:0
    max-tokens: 4096
    temperature: 0.7
    timeout: 120

  ollama:
    enabled: true
    url: ${OLLAMA_URL:http://localhost:11434}
    model: ${OLLAMA_MODEL:llama3}
    timeout: 120
    temperature: 0.7